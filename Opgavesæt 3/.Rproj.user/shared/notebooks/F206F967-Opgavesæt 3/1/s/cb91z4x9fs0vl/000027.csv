"0",""
"0",""
"0","library(readr)"
"0","library(locfit)"
"0","library(splines)"
"0",""
"0","# Step 1: Load the dataset"
"0","SAheart_data <- read_csv(""SAheart.data.txt"")"
"2","[1mRows: [22m[34m462[39m [1mColumns: [22m[34m11[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): famhist
[32mdbl[39m (10): row.names, sbp, tobacco, ldl, adiposity, typea, obesity, alcohol, age, chd"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","# Step 2: Fit logistic regression with natural cubic splines for sbp predictor"
"0","fit_sbp <- glm(chd ~ ns(sbp, 4), family = binomial, data = SAheart_data)"
"0",""
"0","# Plot the fitted curve on probability scale"
"0","plot(SAheart_data$sbp, predict(fit_sbp, type = ""response""), xlab = ""sbp"", ylab = ""Probability of CHD"")"
